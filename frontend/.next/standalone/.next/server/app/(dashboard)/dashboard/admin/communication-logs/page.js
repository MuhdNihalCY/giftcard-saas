(()=>{var e={};e.id=995,e.ids=[995],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},89999:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c}),s(76324),s(6989),s(35866),s(7957);var a=s(23191),r=s(88716),i=s(37922),l=s.n(i),n=s(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["(dashboard)",{children:["dashboard",{children:["admin",{children:["communication-logs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,76324)),"/Users/nihal/Desktop/webworks/giftcard-saas/frontend/src/app/(dashboard)/dashboard/admin/communication-logs/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6989)),"/Users/nihal/Desktop/webworks/giftcard-saas/frontend/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,7957)),"/Users/nihal/Desktop/webworks/giftcard-saas/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/nihal/Desktop/webworks/giftcard-saas/frontend/src/app/(dashboard)/dashboard/admin/communication-logs/page.tsx"],x="/(dashboard)/dashboard/admin/communication-logs/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/dashboard/admin/communication-logs/page",pathname:"/dashboard/admin/communication-logs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},55529:(e,t,s)=>{Promise.resolve().then(s.bind(s,44474))},67126:(e,t,s)=>{Promise.resolve().then(s.bind(s,54681))},35047:(e,t,s)=>{"use strict";var a=s(77389);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},44474:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(10326),r=s(17577),i=s(47375),l=s(99837),n=s(89175);s(18069);var d=s(58029);function c(){let{user:e}=(0,d.t)(),[t,s]=(0,r.useState)(!0),[c,o]=(0,r.useState)([]),[x,m]=(0,r.useState)(null),[u,h]=(0,r.useState)([]),[p,g]=(0,r.useState)({channel:"",status:"",recipient:"",page:1,limit:50}),[f,j]=(0,r.useState)({page:1,limit:50,total:0,totalPages:0}),y=(e,t)=>{g({...p,[e]:t,page:1})},b=e=>{switch(e){case"SENT":return"bg-green-100 text-green-800";case"FAILED":return"bg-red-100 text-red-800";case"BLOCKED":return"bg-yellow-100 text-yellow-800";case"PENDING":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},v=e=>{switch(e){case"EMAIL":return"bg-blue-100 text-blue-800";case"SMS":return"bg-purple-100 text-purple-800";case"OTP":return"bg-orange-100 text-orange-800";case"PUSH":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}};return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Communication Logs"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View and monitor all communication activities"})]}),x&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(i.Zb,{children:(0,a.jsxs)(i.aY,{className:"pt-6",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Total Communications"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x.total})]})}),a.jsx(i.Zb,{children:(0,a.jsxs)(i.aY,{className:"pt-6",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Successful"}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.sent})]})}),a.jsx(i.Zb,{children:(0,a.jsxs)(i.aY,{className:"pt-6",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Failed"}),a.jsx("div",{className:"text-2xl font-bold text-red-600",children:x.failed})]})}),a.jsx(i.Zb,{children:(0,a.jsxs)(i.aY,{className:"pt-6",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Success Rate"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[x.successRate,"%"]})]})})]}),u.length>0&&(0,a.jsxs)(i.Zb,{className:"mb-6",children:[a.jsx(i.Ol,{children:a.jsx(i.ll,{children:"Channel Statistics"})}),a.jsx(i.aY,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:u.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${v(e.channel)}`,children:e.channel}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[e.successRate,"%"]})]}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.total}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.sent," sent, ",e.failed," failed"]})]},e.channel))})})]}),(0,a.jsxs)(i.Zb,{className:"mb-6",children:[a.jsx(i.Ol,{children:a.jsx(i.ll,{children:"Filters"})}),a.jsx(i.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"Channel"}),(0,a.jsxs)("select",{value:p.channel,onChange:e=>y("channel",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900",children:[a.jsx("option",{value:"",children:"All Channels"}),a.jsx("option",{value:"EMAIL",children:"Email"}),a.jsx("option",{value:"SMS",children:"SMS"}),a.jsx("option",{value:"OTP",children:"OTP"}),a.jsx("option",{value:"PUSH",children:"Push"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"Status"}),(0,a.jsxs)("select",{value:p.status,onChange:e=>y("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"SENT",children:"Sent"}),a.jsx("option",{value:"FAILED",children:"Failed"}),a.jsx("option",{value:"BLOCKED",children:"Blocked"}),a.jsx("option",{value:"PENDING",children:"Pending"})]})]}),a.jsx("div",{children:a.jsx(n.I,{label:"Recipient",placeholder:"Search by email or phone",value:p.recipient,onChange:e=>y("recipient",e.target.value)})}),a.jsx("div",{className:"flex items-end",children:a.jsx(l.z,{onClick:()=>{g({channel:"",status:"",recipient:"",page:1,limit:50})},variant:"ghost",children:"Clear Filters"})})]})})]}),(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:a.jsx(i.ll,{children:"Communication Logs"})}),a.jsx(i.aY,{children:t?a.jsx("div",{className:"text-center py-8",children:"Loading logs..."}):0===c.length?a.jsx("div",{className:"text-center py-8 text-gray-600",children:"No logs found"}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-900 uppercase tracking-wider",children:"Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-900 uppercase tracking-wider",children:"Channel"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-900 uppercase tracking-wider",children:"Recipient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-900 uppercase tracking-wider",children:"Subject"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-900 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-900 uppercase tracking-wider",children:"Error"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.createdAt).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${v(e.channel)}`,children:e.channel})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.recipient}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.subject||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${b(e.status)}`,children:e.status})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.errorMessage?(0,a.jsxs)("span",{className:"text-red-600",title:e.errorMessage,children:[e.errorMessage.substring(0,50),"..."]}):"-"})]},e.id))})]})}),f.totalPages>1&&(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",(f.page-1)*f.limit+1," to"," ",Math.min(f.page*f.limit,f.total)," of"," ",f.total," results"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(l.z,{variant:"ghost",onClick:()=>y("page",f.page-1),disabled:1===f.page,children:"Previous"}),a.jsx(l.z,{variant:"ghost",onClick:()=>y("page",f.page+1),disabled:f.page>=f.totalPages,children:"Next"})]})]})]})})]})]})}},54681:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(10326);s(17577);var r=s(35047),i=s(90434),l=s(58029),n=s(99837);function d({children:e}){let t=(0,r.useRouter)(),{user:s,isAuthenticated:d,clearAuth:c,checkAuth:o}=(0,l.t)();return d?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[a.jsx("nav",{className:"bg-white shadow-sm text-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-8",children:[a.jsx(i.default,{href:"/dashboard",className:"text-xl font-bold text-primary-600",children:"\uD83C\uDF81 GiftCard SaaS"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[a.jsx(i.default,{href:"/dashboard",className:"text-gray-900 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:"Dashboard"}),(s?.role==="ADMIN"||s?.role==="MERCHANT")&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.default,{href:"/dashboard/gift-cards",className:"text-gray-900 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:"Gift Cards"}),a.jsx(i.default,{href:"/dashboard/templates",className:"text-gray-900 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:"Templates"}),a.jsx(i.default,{href:"/dashboard/analytics",className:"text-gray-900 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:"Analytics"}),a.jsx(i.default,{href:"/dashboard/reports/sales",className:"text-gray-900 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:"Reports"}),a.jsx(i.default,{href:"/dashboard/redeem",className:"text-gray-900 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:"Redeem"})]}),s?.role==="ADMIN"&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.default,{href:"/dashboard/users",className:"text-gray-900 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:"Users"}),a.jsx(i.default,{href:"/dashboard/admin/communications",className:"text-gray-900 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:"Communications"}),a.jsx(i.default,{href:"/dashboard/admin/communication-logs",className:"text-gray-900 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:"Comm Logs"})]}),a.jsx(i.default,{href:"/dashboard/settings",className:"text-gray-900 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:"Settings"}),a.jsx(i.default,{href:"/wallet",className:"text-gray-900 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:"My Wallet"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-sm text-gray-900",children:s?.email}),a.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>{c(),t.push("/")},children:"Logout"})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e})]}):null}},89175:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});var a=s(10326),r=s(17577),i=s.n(r),l=s(51223);let n=i().forwardRef(({label:e,error:t,className:s,id:i,...n},d)=>{let c=(0,r.useId)(),o=i||c;return(0,a.jsxs)("div",{className:"w-full",children:[e&&a.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-gray-900 mb-1",children:e}),a.jsx("input",{ref:d,id:o,className:(0,l.cn)("w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","text-gray-900 bg-white placeholder:text-gray-400",t?"border-red-500":"border-gray-300",s),...n}),t&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})});n.displayName="Input"},76324:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/Users/nihal/Desktop/webworks/giftcard-saas/frontend/src/app/(dashboard)/dashboard/admin/communication-logs/page.tsx#default`)},6989:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/Users/nihal/Desktop/webworks/giftcard-saas/frontend/src/app/(dashboard)/layout.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[371,672,434,207,683],()=>s(89999));module.exports=a})();